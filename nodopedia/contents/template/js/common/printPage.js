"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var PrintPage=function(){};PrintPage.templateRootPath="/"+TemplateSettings.documentRootPath,PrintPage.copybody=function(e,t){var n=document.getElementById(t),i=document.getElementById(e);if(null!=n&&null!=i){var o=n.contentWindow;if(null!=o){i.innerHTML=o.document.body.innerHTML,o.document.body.innerHTML="";var a=new RegExp('src="(\\.\\.\\/)+'),r=new RegExp('href="(\\.\\.\\/)+'),l=i.getElementsByTagName("IMG");if(l.length)for(var d=0;d<l.length;d++){var u=l[d];u.outerHTML=u.outerHTML.replace(a,'src="')}var c=i.getElementsByTagName("A");if(c.length)for(d=0;d<c.length;d++){var f=c[d];f.outerHTML=f.outerHTML.replace(r,'href="')}"object"==("undefined"==typeof MathJax?"undefined":_typeof(MathJax))&&MathJax.Hub.Queue(["Typeset",MathJax.Hub])}}},PrintPage.insertIFRAME=function(e,t,n){if(null!=e&&null!=e.document&&null!=t){var i="iwin_"+t.getExpandLabel(),o="ifrm_"+t.getExpandLabel(),a="view_"+t.getExpandLabel(),r='<div id="'+a+'"></div>';return r+='<iframe name="'+i+'" id="'+o+'" src="'+(t.getURL()+"?level="+t.getQuery()+"&figure="+t.getFigureNo()+"&table="+t.getTableNo()+"&code="+t.getCodeNo()+"&mode="+n+"&noindex=yes")+'" style="display: none;" onLoad="PrintPage.copybody(\''+a+"', '"+o+"');\"></iframe>"}},PrintPage.createPrintPage=function(e,t){if(null!=e&&null!=e.document&&null!=t){t.processTreeData();var n="";""!=t.getWindowTitle()?document.title+=" - "+t.getWindowTitle():""==document.title&&(document.title=t.getTitle()),t.isEnableInsertTitlePage()&&(n+='<div class="body_content" id="view_title"></div>',n+='<iframe name="iwin_title" id="ifrm_title" src="'+t.getTitleFile()+'?noIndex=yes" style="display: none;" onLoad="PrintPage.copybody(\'view_title\', \'ifrm_title\');"></iframe>');var o=t.getDataCount();if(!(o<=0)){var a=location.search;-1!=a.lastIndexOf("?")&&(a=a.slice(a.lastIndexOf("?")+1));var r=a.split("&"),l="",d="0";for(i=0;i<r.length;i++){var u,c,f=r[i],g=f.indexOf("=");g<0||(u=f.substring(0,g),u=decodeURIComponent(u),c=f.slice(g+1),u.match(/^category$/i)?l=decodeURIComponent(c):u.match(/^mode$/i)&&(d=decodeURIComponent(c)))}var m=parseInt(d);isNaN(m)&&(m=0),(m<0||2<m)&&(m=0);var y="";for(i=0;i<o;i++){var s=t.getData(i);if(null!=s){var p=s.getCategory();if("*"==l||""==l||l==p){var v=s.getURL();if(""==v)continue;if(s.disablePrintPage)continue;v!=y&&(n+=PrintPage.insertIFRAME(e,s,m)),y=s.getURL()}}}$("body").html(n)}}};
//# sourceMappingURL=printPage.js.map
